public with sharing class GW_ZipLookup {
// Written by Evan Callahan, copyright (c) 2008 NPower Seattle
// This program is released under the GNU General Public License. http://www.gnu.org/licenses/
	
	// constructor
	public GW_ZipLookup(string zip) {
		// look for the zip in the map, then grab the strings you find
		string zip5 = (zip != null && zip.length() > 5) ? zip.substring(0, 5) : zip;

		// try to find the zip in any of the zip files - comment out extra zip files you won't deploy
		data = (GW_ZipLookup.zc.containsKey(zip5)) ? GW_ZipLookup.zc.get(zip5) :
			(GW_ZipLookup2.zc.containsKey(zip5)) ? GW_ZipLookup2.zc.get(zip5) :
			(GW_ZipLookup3.zc.containsKey(zip5)) ? GW_ZipLookup3.zc.get(zip5) :
			null; 
	}
	
	public boolean found {
		get { return (data != null); }
	}

	public string city {
		get { return (data != null) ? data[0] : null; }
	}

	public string county {
		get { return (data != null) ? data[1] : null; }
	}
	
	public string state {
		get { return (data != null) ? data[2] : null; }
	}

	// list of strings to store the values found
	private string[] data;

	// map of zips to city/county/state
	static map<string, string[]> zc = new map<string, string[]> {
		'98001' => new string[] {'Auburn','King','WA'},
		'98002' => new string[] {'Auburn','King','WA'},
		'98003' => new string[] {'Federal Way','King','WA'},
		'98004' => new string[] {'Bellevue','King','WA'},
		'98005' => new string[] {'Bellevue','King','WA'},
		'98006' => new string[] {'Bellevue','King','WA'},
		'98007' => new string[] {'Bellevue','King','WA'},
		'98008' => new string[] {'Bellevue','King','WA'},
		'98009' => new string[] {'Bellevue','King','WA'},
		'98010' => new string[] {'Black Diamond','King','WA'},
		'98011' => new string[] {'Bothell','King','WA'},
		'98012' => new string[] {'Bothell','Snohomish','WA'},
		'98013' => new string[] {'Burton','King','WA'},
		'98014' => new string[] {'Carnation','King','WA'},
		'98015' => new string[] {'Bellevue','King','WA'},
		'98019' => new string[] {'Duvall','King','WA'},
		'98020' => new string[] {'Edmonds','Snohomish','WA'},
		'98021' => new string[] {'Bothell','Snohomish','WA'},
		'98022' => new string[] {'Enumclaw','King','WA'},
		'98023' => new string[] {'Federal Way','King','WA'},
		'98024' => new string[] {'Fall City','King','WA'},
		'98025' => new string[] {'Hobart','King','WA'},
		'98026' => new string[] {'Edmonds','Snohomish','WA'},
		'98027' => new string[] {'Issaquah','King','WA'},
		'98028' => new string[] {'Kenmore','King','WA'},
		'98029' => new string[] {'Issaquah','King','WA'},
		'98030' => new string[] {'Kent','King','WA'},
		'98031' => new string[] {'Kent','King','WA'},
		'98032' => new string[] {'Kent','King','WA'},
		'98033' => new string[] {'Kirkland','King','WA'},
		'98034' => new string[] {'Kirkland','King','WA'},
		'98035' => new string[] {'Kent','King','WA'},
		'98036' => new string[] {'Lynnwood','Snohomish','WA'},
		'98037' => new string[] {'Lynnwood','Snohomish','WA'},
		'98038' => new string[] {'Maple Valley','King','WA'},
		'98039' => new string[] {'Medina','King','WA'},
		'98040' => new string[] {'Mercer Island','King','WA'},
		'98041' => new string[] {'Bothell','King','WA'},
		'98042' => new string[] {'Kent','King','WA'},
		'98043' => new string[] {'Mountlake Terrace','Snohomish','WA'},
		'98045' => new string[] {'North Bend','King','WA'},
		'98046' => new string[] {'Lynnwood','Snohomish','WA'},
		'98047' => new string[] {'Pacific','King','WA'},
		'98050' => new string[] {'Preston','King','WA'},
		'98051' => new string[] {'Ravensdale','King','WA'},
		'98052' => new string[] {'Redmond','King','WA'},
		'98053' => new string[] {'Redmond','King','WA'},
		'98054' => new string[] {'Redondo','King','WA'},
		'98055' => new string[] {'Renton','King','WA'},
		'98056' => new string[] {'Renton','King','WA'},
		'98057' => new string[] {'Renton','King','WA'},
		'98058' => new string[] {'Renton','King','WA'},
		'98059' => new string[] {'Renton','King','WA'},
		'98061' => new string[] {'Rollingbay','Kitsap','WA'},
		'98062' => new string[] {'Seahurst','King','WA'},
		'98063' => new string[] {'Federal Way','King','WA'},
		'98064' => new string[] {'Kent','King','WA'},
		'98065' => new string[] {'Snoqualmie','King','WA'},
		'98068' => new string[] {'Snoqualmie Pass','King','WA'},
		'98070' => new string[] {'Vashon','King','WA'},
		'98071' => new string[] {'Auburn','King','WA'},
		'98072' => new string[] {'Woodinville','King','WA'},
		'98073' => new string[] {'Redmond','King','WA'},
		'98074' => new string[] {'Sammamish','King','WA'},
		'98075' => new string[] {'Sammamish','King','WA'},
		'98077' => new string[] {'Woodinville','King','WA'},
		'98082' => new string[] {'Bothell','Snohomish','WA'},
		'98083' => new string[] {'Kirkland','King','WA'},
		'98087' => new string[] {'Lynnwood','Snohomish','WA'},
		'98089' => new string[] {'Kent','King','WA'},
		'98092' => new string[] {'Auburn','King','WA'},
		'98093' => new string[] {'Federal Way','King','WA'},
		'98101' => new string[] {'Seattle','King','WA'},
		'98102' => new string[] {'Seattle','King','WA'},
		'98103' => new string[] {'Seattle','King','WA'},
		'98104' => new string[] {'Seattle','King','WA'},
		'98105' => new string[] {'Seattle','King','WA'},
		'98106' => new string[] {'Seattle','King','WA'},
		'98107' => new string[] {'Seattle','King','WA'},
		'98108' => new string[] {'Seattle','King','WA'},
		'98109' => new string[] {'Seattle','King','WA'},
		'98110' => new string[] {'Bainbridge Island','Kitsap','WA'},
		'98111' => new string[] {'Seattle','King','WA'},
		'98112' => new string[] {'Seattle','King','WA'},
		'98113' => new string[] {'Seattle','King','WA'},
		'98114' => new string[] {'Seattle','King','WA'},
		'98115' => new string[] {'Seattle','King','WA'},
		'98116' => new string[] {'Seattle','King','WA'},
		'98117' => new string[] {'Seattle','King','WA'},
		'98118' => new string[] {'Seattle','King','WA'},
		'98119' => new string[] {'Seattle','King','WA'},
		'98121' => new string[] {'Seattle','King','WA'},
		'98122' => new string[] {'Seattle','King','WA'},
		'98124' => new string[] {'Seattle','King','WA'},
		'98125' => new string[] {'Seattle','King','WA'},
		'98126' => new string[] {'Seattle','King','WA'},
		'98127' => new string[] {'Seattle','King','WA'},
		'98129' => new string[] {'Seattle','King','WA'},
		'98131' => new string[] {'Seattle','King','WA'},
		'98132' => new string[] {'Seattle','King','WA'},
		'98133' => new string[] {'Seattle','King','WA'},
		'98134' => new string[] {'Seattle','King','WA'},
		'98136' => new string[] {'Seattle','King','WA'},
		'98138' => new string[] {'Seattle','King','WA'},
		'98139' => new string[] {'Seattle','King','WA'},
		'98141' => new string[] {'Seattle','King','WA'},
		'98144' => new string[] {'Seattle','King','WA'},
		'98145' => new string[] {'Seattle','King','WA'},
		'98146' => new string[] {'Seattle','King','WA'},
		'98148' => new string[] {'Seattle','King','WA'},
		'98151' => new string[] {'Seattle','King','WA'},
		'98154' => new string[] {'Seattle','King','WA'},
		'98155' => new string[] {'Seattle','King','WA'},
		'98158' => new string[] {'Seattle','King','WA'},
		'98160' => new string[] {'Seattle','King','WA'},
		'98161' => new string[] {'Seattle','King','WA'},
		'98164' => new string[] {'Seattle','King','WA'},
		'98165' => new string[] {'Seattle','King','WA'},
		'98166' => new string[] {'Seattle','King','WA'},
		'98168' => new string[] {'Seattle','King','WA'},
		'98170' => new string[] {'Seattle','King','WA'},
		'98171' => new string[] {'Seattle','King','WA'},
		'98174' => new string[] {'Seattle','King','WA'},
		'98175' => new string[] {'Seattle','King','WA'},
		'98177' => new string[] {'Seattle','King','WA'},
		'98178' => new string[] {'Seattle','King','WA'},
		'98181' => new string[] {'Seattle','King','WA'},
		'98184' => new string[] {'Seattle','King','WA'},
		'98185' => new string[] {'Seattle','King','WA'},
		'98188' => new string[] {'Seattle','King','WA'},
		'98190' => new string[] {'Seattle','King','WA'},
		'98191' => new string[] {'Seattle','King','WA'},
		'98194' => new string[] {'Seattle','King','WA'},
		'98195' => new string[] {'Seattle','King','WA'},
		'98198' => new string[] {'Seattle','King','WA'},
		'98199' => new string[] {'Seattle','King','WA'},
		'98201' => new string[] {'Everett','Snohomish','WA'},
		'98203' => new string[] {'Everett','Snohomish','WA'},
		'98204' => new string[] {'Everett','Snohomish','WA'},
		'98205' => new string[] {'Everett','Snohomish','WA'},
		'98206' => new string[] {'Everett','Snohomish','WA'},
		'98207' => new string[] {'Everett','Snohomish','WA'},
		'98208' => new string[] {'Everett','Snohomish','WA'},
		'98213' => new string[] {'Everett','Snohomish','WA'},
		'98220' => new string[] {'Acme','Whatcom','WA'},
		'98221' => new string[] {'Anacortes','Skagit','WA'},
		'98222' => new string[] {'Blakely Island','San Juan','WA'},
		'98223' => new string[] {'Arlington','Snohomish','WA'},
		'98224' => new string[] {'Baring','King','WA'},
		'98225' => new string[] {'Bellingham','Whatcom','WA'},
		'98226' => new string[] {'Bellingham','Whatcom','WA'},
		'98227' => new string[] {'Bellingham','Whatcom','WA'},
		'98228' => new string[] {'Bellingham','Whatcom','WA'},
		'98229' => new string[] {'Bellingham','Whatcom','WA'},
		'98230' => new string[] {'Blaine','Whatcom','WA'},
		'98231' => new string[] {'Blaine','Whatcom','WA'},
		'98232' => new string[] {'Bow','Skagit','WA'},
		'98233' => new string[] {'Burlington','Skagit','WA'},
		'98235' => new string[] {'Clearlake','Skagit','WA'},
		'98236' => new string[] {'Clinton','Island','WA'},
		'98237' => new string[] {'Concrete','Skagit','WA'},
		'98238' => new string[] {'Conway','Skagit','WA'},
		'98239' => new string[] {'Coupeville','Island','WA'},
		'98240' => new string[] {'Custer','Whatcom','WA'},
		'98241' => new string[] {'Darrington','Snohomish','WA'},
		'98243' => new string[] {'Deer Harbor','San Juan','WA'},
		'98244' => new string[] {'Deming','Whatcom','WA'},
		'98245' => new string[] {'Eastsound','San Juan','WA'},
		'98247' => new string[] {'Everson','Whatcom','WA'},
		'98248' => new string[] {'Ferndale','Whatcom','WA'},
		'98249' => new string[] {'Freeland','Island','WA'},
		'98250' => new string[] {'Friday Harbor','San Juan','WA'},
		'98251' => new string[] {'Gold Bar','Snohomish','WA'},
		'98252' => new string[] {'Granite Falls','Snohomish','WA'},
		'98253' => new string[] {'Greenbank','Island','WA'},
		'98255' => new string[] {'Hamilton','Skagit','WA'},
		'98256' => new string[] {'Index','Snohomish','WA'},
		'98257' => new string[] {'La Conner','Skagit','WA'},
		'98258' => new string[] {'Lake Stevens','Snohomish','WA'},
		'98259' => new string[] {'North Lakewood','Snohomish','WA'},
		'98260' => new string[] {'Langley','Island','WA'},
		'98261' => new string[] {'Lopez Island','San Juan','WA'},
		'98262' => new string[] {'Lummi Island','Whatcom','WA'},
		'98263' => new string[] {'Lyman','Skagit','WA'},
		'98264' => new string[] {'Lynden','Whatcom','WA'},
		'98266' => new string[] {'Maple Falls','Whatcom','WA'},
		'98267' => new string[] {'Marblemount','Skagit','WA'},
		'98270' => new string[] {'Marysville','Snohomish','WA'},
		'98271' => new string[] {'Marysville','Snohomish','WA'},
		'98272' => new string[] {'Monroe','Snohomish','WA'},
		'98273' => new string[] {'Mount Vernon','Skagit','WA'},
		'98274' => new string[] {'Mount Vernon','Skagit','WA'},
		'98275' => new string[] {'Mukilteo','Snohomish','WA'},
		'98276' => new string[] {'Nooksack','Whatcom','WA'},
		'98277' => new string[] {'Oak Harbor','Island','WA'},
		'98278' => new string[] {'Oak Harbor','Island','WA'},
		'98279' => new string[] {'Olga','San Juan','WA'},
		'98280' => new string[] {'Orcas','San Juan','WA'},
		'98281' => new string[] {'Point Roberts','Whatcom','WA'},
		'98282' => new string[] {'Camano Island','Island','WA'},
		'98283' => new string[] {'Rockport','Skagit','WA'},
		'98284' => new string[] {'Sedro Woolley','Skagit','WA'},
		'98286' => new string[] {'Shaw Island','San Juan','WA'},
		'98287' => new string[] {'Silvana','Snohomish','WA'},
		'98288' => new string[] {'Skykomish','King','WA'},
		'98290' => new string[] {'Snohomish','Snohomish','WA'},
		'98291' => new string[] {'Snohomish','Snohomish','WA'},
		'98292' => new string[] {'Stanwood','Snohomish','WA'},
		'98293' => new string[] {'Startup','Snohomish','WA'},
		'98294' => new string[] {'Sultan','Snohomish','WA'},
		'98295' => new string[] {'Sumas','Whatcom','WA'},
		'98296' => new string[] {'Snohomish','Snohomish','WA'},
		'98297' => new string[] {'Waldron','San Juan','WA'},
		'98303' => new string[] {'Anderson Island','Pierce','WA'},
		'98304' => new string[] {'Ashford','Pierce','WA'},
		'98305' => new string[] {'Beaver','Clallam','WA'},
		'98310' => new string[] {'Bremerton','Kitsap','WA'},
		'98311' => new string[] {'Bremerton','Kitsap','WA'},
		'98312' => new string[] {'Bremerton','Kitsap','WA'},
		'98314' => new string[] {'Bremerton','Kitsap','WA'},
		'98315' => new string[] {'Silverdale','Kitsap','WA'},
		'98320' => new string[] {'Brinnon','Jefferson','WA'},
		'98321' => new string[] {'Buckley','Pierce','WA'},
		'98322' => new string[] {'Burley','Kitsap','WA'},
		'98323' => new string[] {'Carbonado','Pierce','WA'},
		'98324' => new string[] {'Carlsborg','Clallam','WA'},
		'98325' => new string[] {'Chimacum','Jefferson','WA'},
		'98326' => new string[] {'Clallam Bay','Clallam','WA'},
		'98327' => new string[] {'Dupont','Pierce','WA'},
		'98328' => new string[] {'Eatonville','Pierce','WA'},
		'98329' => new string[] {'Gig Harbor','Pierce','WA'},
		'98330' => new string[] {'Elbe','Pierce','WA'},
		'98331' => new string[] {'Forks','Clallam','WA'},
		'98332' => new string[] {'Gig Harbor','Pierce','WA'},
		'98333' => new string[] {'Fox Island','Pierce','WA'},
		'98335' => new string[] {'Gig Harbor','Pierce','WA'},
		'98336' => new string[] {'Glenoma','Lewis','WA'},
		'98337' => new string[] {'Bremerton','Kitsap','WA'},
		'98338' => new string[] {'Graham','Pierce','WA'},
		'98339' => new string[] {'Port Hadlock','Jefferson','WA'},
		'98340' => new string[] {'Hansville','Kitsap','WA'},
		'98342' => new string[] {'Indianola','Kitsap','WA'},
		'98343' => new string[] {'Joyce','Clallam','WA'},
		'98344' => new string[] {'Kapowsin','Pierce','WA'},
		'98345' => new string[] {'Keyport','Kitsap','WA'},
		'98346' => new string[] {'Kingston','Kitsap','WA'},
		'98348' => new string[] {'La Grande','Pierce','WA'},
		'98349' => new string[] {'Lakebay','Pierce','WA'},
		'98350' => new string[] {'La Push','Clallam','WA'},
		'98351' => new string[] {'Longbranch','Pierce','WA'},
		'98352' => new string[] {'Sumner','Pierce','WA'},
		'98353' => new string[] {'Manchester','Kitsap','WA'},
		'98354' => new string[] {'Milton','Pierce','WA'},
		'98355' => new string[] {'Mineral','Lewis','WA'},
		'98356' => new string[] {'Morton','Lewis','WA'},
		'98357' => new string[] {'Neah Bay','Clallam','WA'},
		'98358' => new string[] {'Nordland','Jefferson','WA'},
		'98359' => new string[] {'Olalla','Kitsap','WA'},
		'98360' => new string[] {'Orting','Pierce','WA'},
		'98361' => new string[] {'Packwood','Lewis','WA'},
		'98362' => new string[] {'Port Angeles','Clallam','WA'},
		'98363' => new string[] {'Port Angeles','Clallam','WA'},
		'98364' => new string[] {'Port Gamble','Kitsap','WA'},
		'98365' => new string[] {'Port Ludlow','Jefferson','WA'},
		'98366' => new string[] {'Port Orchard','Kitsap','WA'},
		'98367' => new string[] {'Port Orchard','Kitsap','WA'},
		'98368' => new string[] {'Port Townsend','Jefferson','WA'},
		'98370' => new string[] {'Poulsbo','Kitsap','WA'},
		'98371' => new string[] {'Puyallup','Pierce','WA'},
		'98372' => new string[] {'Puyallup','Pierce','WA'},
		'98373' => new string[] {'Puyallup','Pierce','WA'},
		'98374' => new string[] {'Puyallup','Pierce','WA'},
		'98375' => new string[] {'Puyallup','Pierce','WA'},
		'98376' => new string[] {'Quilcene','Jefferson','WA'},
		'98377' => new string[] {'Randle','Lewis','WA'},
		'98378' => new string[] {'Retsil','Kitsap','WA'},
		'98380' => new string[] {'Seabeck','Kitsap','WA'},
		'98381' => new string[] {'Sekiu','Clallam','WA'},
		'98382' => new string[] {'Sequim','Clallam','WA'},
		'98383' => new string[] {'Silverdale','Kitsap','WA'},
		'98384' => new string[] {'South Colby','Kitsap','WA'},
		'98385' => new string[] {'South Prairie','Pierce','WA'},
		'98386' => new string[] {'Southworth','Kitsap','WA'},
		'98387' => new string[] {'Spanaway','Pierce','WA'},
		'98388' => new string[] {'Steilacoom','Pierce','WA'},
		'98390' => new string[] {'Sumner','Pierce','WA'},
		'98391' => new string[] {'Bonney Lake','Pierce','WA'},
		'98392' => new string[] {'Suquamish','Kitsap','WA'},
		'98393' => new string[] {'Tracyton','Kitsap','WA'},
		'98394' => new string[] {'Vaughn','Pierce','WA'},
		'98395' => new string[] {'Wauna','Pierce','WA'},
		'98396' => new string[] {'Wilkeson','Pierce','WA'},
		'98397' => new string[] {'Longmire','Pierce','WA'},
		'98398' => new string[] {'Paradise Inn','Pierce','WA'},
		'98401' => new string[] {'Tacoma','Pierce','WA'},
		'98402' => new string[] {'Tacoma','Pierce','WA'},
		'98403' => new string[] {'Tacoma','Pierce','WA'},
		'98404' => new string[] {'Tacoma','Pierce','WA'},
		'98405' => new string[] {'Tacoma','Pierce','WA'},
		'98406' => new string[] {'Tacoma','Pierce','WA'},
		'98407' => new string[] {'Tacoma','Pierce','WA'},
		'98408' => new string[] {'Tacoma','Pierce','WA'},
		'98409' => new string[] {'Tacoma','Pierce','WA'},
		'98411' => new string[] {'Tacoma','Pierce','WA'},
		'98412' => new string[] {'Tacoma','Pierce','WA'},
		'98413' => new string[] {'Tacoma','Pierce','WA'},
		'98415' => new string[] {'Tacoma','Pierce','WA'},
		'98416' => new string[] {'Tacoma','Pierce','WA'},
		'98418' => new string[] {'Tacoma','Pierce','WA'},
		'98421' => new string[] {'Tacoma','Pierce','WA'},
		'98422' => new string[] {'Tacoma','Pierce','WA'},
		'98424' => new string[] {'Tacoma','Pierce','WA'},
		'98430' => new string[] {'Camp Murray','Pierce','WA'},
		'98431' => new string[] {'Tacoma','Pierce','WA'},
		'98433' => new string[] {'Tacoma','Pierce','WA'},
		'98438' => new string[] {'Mcchord Afb','Pierce','WA'},
		'98439' => new string[] {'Lakewood','Pierce','WA'},
		'98442' => new string[] {'Tacoma','Pierce','WA'},
		'98443' => new string[] {'Tacoma','Pierce','WA'},
		'98444' => new string[] {'Tacoma','Pierce','WA'},
		'98445' => new string[] {'Tacoma','Pierce','WA'},
		'98446' => new string[] {'Tacoma','Pierce','WA'},
		'98447' => new string[] {'Tacoma','Pierce','WA'},
		'98450' => new string[] {'Tacoma','Pierce','WA'},
		'98455' => new string[] {'Tacoma','Pierce','WA'},
		'98460' => new string[] {'Tacoma','Pierce','WA'},
		'98464' => new string[] {'Tacoma','Pierce','WA'},
		'98465' => new string[] {'Tacoma','Pierce','WA'},
		'98466' => new string[] {'Tacoma','Pierce','WA'},
		'98467' => new string[] {'University Place','Pierce','WA'},
		'98471' => new string[] {'Tacoma','Pierce','WA'},
		'98477' => new string[] {'Tacoma','Pierce','WA'},
		'98481' => new string[] {'Tacoma','Pierce','WA'},
		'98492' => new string[] {'Lakewood','Pierce','WA'},
		'98493' => new string[] {'Tacoma','Pierce','WA'},
		'98497' => new string[] {'Lakewood','Pierce','WA'},
		'98498' => new string[] {'Lakewood','Pierce','WA'},
		'98499' => new string[] {'Lakewood','Pierce','WA'},
		'98501' => new string[] {'Olympia','Thurston','WA'},
		'98502' => new string[] {'Olympia','Thurston','WA'},
		'98503' => new string[] {'Lacey','Thurston','WA'},
		'98504' => new string[] {'Olympia','Thurston','WA'},
		'98505' => new string[] {'Olympia','Thurston','WA'},
		'98506' => new string[] {'Olympia','Thurston','WA'},
		'98507' => new string[] {'Olympia','Thurston','WA'},
		'98508' => new string[] {'Olympia','Thurston','WA'},
		'98509' => new string[] {'Lacey','Thurston','WA'},
		'98511' => new string[] {'Tumwater','Thurston','WA'},
		'98512' => new string[] {'Olympia','Thurston','WA'},
		'98513' => new string[] {'Olympia','Thurston','WA'},
		'98516' => new string[] {'Olympia','Thurston','WA'},
		'98520' => new string[] {'Aberdeen','Grays Harbor','WA'},
		'98522' => new string[] {'Adna','Lewis','WA'},
		'98524' => new string[] {'Allyn','Mason','WA'},
		'98526' => new string[] {'Amanda Park','Grays Harbor','WA'},
		'98527' => new string[] {'Bay Center','Pacific','WA'},
		'98528' => new string[] {'Belfair','Mason','WA'},
		'98530' => new string[] {'Bucoda','Thurston','WA'},
		'98531' => new string[] {'Centralia','Lewis','WA'},
		'98532' => new string[] {'Chehalis','Lewis','WA'},
		'98533' => new string[] {'Cinebar','Lewis','WA'},
		'98535' => new string[] {'Copalis Beach','Grays Harbor','WA'},
		'98536' => new string[] {'Copalis Crossing','Grays Harbor','WA'},
		'98537' => new string[] {'Cosmopolis','Grays Harbor','WA'},
		'98538' => new string[] {'Curtis','Lewis','WA'},
		'98539' => new string[] {'Doty','Lewis','WA'},
		'98540' => new string[] {'East Olympia','Thurston','WA'},
		'98541' => new string[] {'Elma','Grays Harbor','WA'},
		'98542' => new string[] {'Ethel','Lewis','WA'},
		'98544' => new string[] {'Galvin','Lewis','WA'},
		'98546' => new string[] {'Grapeview','Mason','WA'},
		'98547' => new string[] {'Grayland','Grays Harbor','WA'},
		'98548' => new string[] {'Hoodsport','Mason','WA'},
		'98550' => new string[] {'Hoquiam','Grays Harbor','WA'},
		'98552' => new string[] {'Humptulips','Grays Harbor','WA'},
		'98554' => new string[] {'Lebam','Pacific','WA'},
		'98555' => new string[] {'Lilliwaup','Mason','WA'},
		'98556' => new string[] {'Littlerock','Thurston','WA'},
		'98557' => new string[] {'Mccleary','Grays Harbor','WA'},
		'98558' => new string[] {'Mckenna','Pierce','WA'},
		'98559' => new string[] {'Malone','Grays Harbor','WA'},
		'98560' => new string[] {'Matlock','Mason','WA'},
		'98561' => new string[] {'Menlo','Pacific','WA'},
		'98562' => new string[] {'Moclips','Grays Harbor','WA'},
		'98563' => new string[] {'Montesano','Grays Harbor','WA'},
		'98564' => new string[] {'Mossyrock','Lewis','WA'},
		'98565' => new string[] {'Napavine','Lewis','WA'},
		'98566' => new string[] {'Neilton','Grays Harbor','WA'},
		'98568' => new string[] {'Oakville','Grays Harbor','WA'},
		'98569' => new string[] {'Ocean Shores','Grays Harbor','WA'},
		'98570' => new string[] {'Onalaska','Lewis','WA'},
		'98571' => new string[] {'Pacific Beach','Grays Harbor','WA'},
		'98572' => new string[] {'Pe Ell','Lewis','WA'},
		'98575' => new string[] {'Quinault','Grays Harbor','WA'},
		'98576' => new string[] {'Rainier','Thurston','WA'},
		'98577' => new string[] {'Raymond','Pacific','WA'},
		'98579' => new string[] {'Rochester','Thurston','WA'},
		'98580' => new string[] {'Roy','Pierce','WA'},
		'98581' => new string[] {'Ryderwood','Cowlitz','WA'},
		'98582' => new string[] {'Salkum','Lewis','WA'},
		'98583' => new string[] {'Satsop','Grays Harbor','WA'},
		'98584' => new string[] {'Shelton','Mason','WA'},
		'98585' => new string[] {'Silver Creek','Lewis','WA'},
		'98586' => new string[] {'South Bend','Pacific','WA'},
		'98587' => new string[] {'Taholah','Grays Harbor','WA'},
		'98588' => new string[] {'Tahuya','Mason','WA'},
		'98589' => new string[] {'Tenino','Thurston','WA'},
		'98590' => new string[] {'Tokeland','Pacific','WA'},
		'98591' => new string[] {'Toledo','Lewis','WA'},
		'98592' => new string[] {'Union','Mason','WA'},
		'98593' => new string[] {'Vader','Lewis','WA'},
		'98595' => new string[] {'Westport','Grays Harbor','WA'},
		'98596' => new string[] {'Winlock','Lewis','WA'},
		'98597' => new string[] {'Yelm','Thurston','WA'},
		'98599' => new string[] {'Olympia','Thurston','WA'},
		'98601' => new string[] {'Amboy','Clark','WA'},
		'98602' => new string[] {'Appleton','Klickitat','WA'},
		'98603' => new string[] {'Ariel','Cowlitz','WA'},
		'98604' => new string[] {'Battle Ground','Clark','WA'},
		'98605' => new string[] {'Bingen','Klickitat','WA'},
		'98606' => new string[] {'Brush Prairie','Clark','WA'},
		'98607' => new string[] {'Camas','Clark','WA'},
		'98609' => new string[] {'Carrolls','Cowlitz','WA'},
		'98610' => new string[] {'Carson','Skamania','WA'},
		'98611' => new string[] {'Castle Rock','Cowlitz','WA'},
		'98612' => new string[] {'Cathlamet','Wahkiakum','WA'},
		'98613' => new string[] {'Centerville','Klickitat','WA'},
		'98614' => new string[] {'Chinook','Pacific','WA'},
		'98616' => new string[] {'Cougar','Cowlitz','WA'},
		'98617' => new string[] {'Dallesport','Klickitat','WA'},
		'98619' => new string[] {'Glenwood','Klickitat','WA'},
		'98620' => new string[] {'Goldendale','Klickitat','WA'},
		'98621' => new string[] {'Grays River','Wahkiakum','WA'},
		'98622' => new string[] {'Heisson','Clark','WA'},
		'98623' => new string[] {'Husum','Klickitat','WA'},
		'98624' => new string[] {'Ilwaco','Pacific','WA'},
		'98625' => new string[] {'Kalama','Cowlitz','WA'},
		'98626' => new string[] {'Kelso','Cowlitz','WA'},
		'98628' => new string[] {'Klickitat','Klickitat','WA'},
		'98629' => new string[] {'La Center','Clark','WA'},
		'98631' => new string[] {'Long Beach','Pacific','WA'},
		'98632' => new string[] {'Longview','Cowlitz','WA'},
		'98635' => new string[] {'Lyle','Klickitat','WA'},
		'98637' => new string[] {'Nahcotta','Pacific','WA'},
		'98638' => new string[] {'Naselle','Pacific','WA'},
		'98639' => new string[] {'North Bonneville','Skamania','WA'},
		'98640' => new string[] {'Ocean Park','Pacific','WA'},
		'98641' => new string[] {'Oysterville','Pacific','WA'},
		'98642' => new string[] {'Ridgefield','Clark','WA'},
		'98643' => new string[] {'Rosburg','Wahkiakum','WA'},
		'98644' => new string[] {'Seaview','Pacific','WA'},
		'98645' => new string[] {'Silverlake','Cowlitz','WA'},
		'98647' => new string[] {'Skamokawa','Wahkiakum','WA'},
		'98648' => new string[] {'Stevenson','Skamania','WA'},
		'98649' => new string[] {'Toutle','Cowlitz','WA'},
		'98650' => new string[] {'Trout Lake','Klickitat','WA'},
		'98651' => new string[] {'Underwood','Skamania','WA'},
		'98660' => new string[] {'Vancouver','Clark','WA'},
		'98661' => new string[] {'Vancouver','Clark','WA'},
		'98662' => new string[] {'Vancouver','Clark','WA'},
		'98663' => new string[] {'Vancouver','Clark','WA'},
		'98664' => new string[] {'Vancouver','Clark','WA'},
		'98665' => new string[] {'Vancouver','Clark','WA'},
		'98666' => new string[] {'Vancouver','Clark','WA'},
		'98667' => new string[] {'Vancouver','Clark','WA'},
		'98668' => new string[] {'Vancouver','Clark','WA'},
		'98670' => new string[] {'Wahkiacus','Klickitat','WA'},
		'98671' => new string[] {'Washougal','Clark','WA'},
		'98672' => new string[] {'White Salmon','Klickitat','WA'},
		'98673' => new string[] {'Wishram','Klickitat','WA'},
		'98674' => new string[] {'Woodland','Cowlitz','WA'},
		'98675' => new string[] {'Yacolt','Clark','WA'},
		'98682' => new string[] {'Vancouver','Clark','WA'},
		'98683' => new string[] {'Vancouver','Clark','WA'},
		'98684' => new string[] {'Vancouver','Clark','WA'},
		'98685' => new string[] {'Vancouver','Clark','WA'},
		'98686' => new string[] {'Vancouver','Clark','WA'},
		'98687' => new string[] {'Vancouver','Clark','WA'},
		'98801' => new string[] {'Wenatchee','Chelan','WA'},
		'98802' => new string[] {'East Wenatchee','Douglas','WA'},
		'98807' => new string[] {'Wenatchee','Chelan','WA'},
		'98811' => new string[] {'Ardenvoir','Chelan','WA'},
		'98812' => new string[] {'Brewster','Okanogan','WA'},
		'98813' => new string[] {'Bridgeport','Douglas','WA'},
		'98814' => new string[] {'Carlton','Okanogan','WA'},
		'98815' => new string[] {'Cashmere','Chelan','WA'},
		'98816' => new string[] {'Chelan','Chelan','WA'},
		'98817' => new string[] {'Chelan Falls','Chelan','WA'},
		'98819' => new string[] {'Conconully','Okanogan','WA'},
		'98821' => new string[] {'Dryden','Chelan','WA'},
		'98822' => new string[] {'Entiat','Chelan','WA'},
		'98823' => new string[] {'Ephrata','Grant','WA'},
		'98824' => new string[] {'George','Grant','WA'},
		'98826' => new string[] {'Leavenworth','Chelan','WA'},
		'98827' => new string[] {'Loomis','Okanogan','WA'},
		'98828' => new string[] {'Malaga','Chelan','WA'},
		'98829' => new string[] {'Malott','Okanogan','WA'},
		'98830' => new string[] {'Mansfield','Douglas','WA'},
		'98831' => new string[] {'Manson','Chelan','WA'},
		'98832' => new string[] {'Marlin','Grant','WA'},
		'98833' => new string[] {'Mazama','Okanogan','WA'},
		'98834' => new string[] {'Methow','Okanogan','WA'},
		'98836' => new string[] {'Monitor','Chelan','WA'},
		'98837' => new string[] {'Moses Lake','Grant','WA'},
		'98840' => new string[] {'Okanogan','Okanogan','WA'},
		'98841' => new string[] {'Omak','Okanogan','WA'},
		'98843' => new string[] {'Orondo','Douglas','WA'},
		'98844' => new string[] {'Oroville','Okanogan','WA'},
		'98845' => new string[] {'Palisades','Douglas','WA'},
		'98846' => new string[] {'Pateros','Okanogan','WA'},
		'98847' => new string[] {'Peshastin','Chelan','WA'},
		'98848' => new string[] {'Quincy','Grant','WA'},
		'98849' => new string[] {'Riverside','Okanogan','WA'},
		'98850' => new string[] {'Rock Island','Douglas','WA'},
		'98851' => new string[] {'Soap Lake','Grant','WA'},
		'98852' => new string[] {'Stehekin','Chelan','WA'},
		'98853' => new string[] {'Stratford','Grant','WA'},
		'98855' => new string[] {'Tonasket','Okanogan','WA'},
		'98856' => new string[] {'Twisp','Okanogan','WA'},
		'98857' => new string[] {'Warden','Grant','WA'},
		'98858' => new string[] {'Waterville','Douglas','WA'},
		'98859' => new string[] {'Wauconda','Okanogan','WA'},
		'98860' => new string[] {'Wilson Creek','Grant','WA'},
		'98862' => new string[] {'Winthrop','Okanogan','WA'},
		'98901' => new string[] {'Yakima','Yakima','WA'},
		'98902' => new string[] {'Yakima','Yakima','WA'},
		'98903' => new string[] {'Yakima','Yakima','WA'},
		'98904' => new string[] {'Yakima','Yakima','WA'},
		'98907' => new string[] {'Yakima','Yakima','WA'},
		'98908' => new string[] {'Yakima','Yakima','WA'},
		'98909' => new string[] {'Yakima','Yakima','WA'},
		'98920' => new string[] {'Brownstown','Yakima','WA'},
		'98921' => new string[] {'Buena','Yakima','WA'},
		'98922' => new string[] {'Cle Elum','Kittitas','WA'},
		'98923' => new string[] {'Cowiche','Yakima','WA'},
		'98925' => new string[] {'Easton','Kittitas','WA'},
		'98926' => new string[] {'Ellensburg','Kittitas','WA'},
		'98929' => new string[] {'Goose Prairie','Yakima','WA'},
		'98930' => new string[] {'Grandview','Yakima','WA'},
		'98932' => new string[] {'Granger','Yakima','WA'},
		'98933' => new string[] {'Harrah','Yakima','WA'},
		'98934' => new string[] {'Kittitas','Kittitas','WA'},
		'98935' => new string[] {'Mabton','Yakima','WA'},
		'98936' => new string[] {'Moxee','Yakima','WA'},
		'98937' => new string[] {'Naches','Yakima','WA'},
		'98938' => new string[] {'Outlook','Yakima','WA'},
		'98939' => new string[] {'Parker','Yakima','WA'},
		'98940' => new string[] {'Ronald','Kittitas','WA'},
		'98941' => new string[] {'Roslyn','Kittitas','WA'},
		'98942' => new string[] {'Selah','Yakima','WA'},
		'98943' => new string[] {'South Cle Elum','Kittitas','WA'},
		'98944' => new string[] {'Sunnyside','Yakima','WA'},
		'98946' => new string[] {'Thorp','Kittitas','WA'},
		'98947' => new string[] {'Tieton','Yakima','WA'},
		'98948' => new string[] {'Toppenish','Yakima','WA'},
		'98950' => new string[] {'Vantage','Kittitas','WA'},
		'98951' => new string[] {'Wapato','Yakima','WA'},
		'98952' => new string[] {'White Swan','Yakima','WA'},
		'98953' => new string[] {'Zillah','Yakima','WA'},
		'99001' => new string[] {'Airway Heights','Spokane','WA'},
		'99003' => new string[] {'Chattaroy','Spokane','WA'},
		'99004' => new string[] {'Cheney','Spokane','WA'},
		'99005' => new string[] {'Colbert','Spokane','WA'},
		'99006' => new string[] {'Deer Park','Spokane','WA'},
		'99008' => new string[] {'Edwall','Lincoln','WA'},
		'99009' => new string[] {'Elk','Spokane','WA'},
		'99011' => new string[] {'Fairchild Air Force Base','Spokane','WA'},
		'99012' => new string[] {'Fairfield','Spokane','WA'},
		'99013' => new string[] {'Ford','Stevens','WA'},
		'99014' => new string[] {'Four Lakes','Spokane','WA'},
		'99016' => new string[] {'Greenacres','Spokane','WA'},
		'99017' => new string[] {'Lamont','Whitman','WA'},
		'99018' => new string[] {'Latah','Spokane','WA'},
		'99019' => new string[] {'Liberty Lake','Spokane','WA'},
		'99020' => new string[] {'Marshall','Spokane','WA'},
		'99021' => new string[] {'Mead','Spokane','WA'},
		'99022' => new string[] {'Medical Lake','Spokane','WA'},
		'99023' => new string[] {'Mica','Spokane','WA'},
		'99025' => new string[] {'Newman Lake','Spokane','WA'},
		'99026' => new string[] {'Nine Mile Falls','Spokane','WA'},
		'99027' => new string[] {'Otis Orchards','Spokane','WA'},
		'99029' => new string[] {'Reardan','Lincoln','WA'},
		'99030' => new string[] {'Rockford','Spokane','WA'},
		'99031' => new string[] {'Spangle','Spokane','WA'},
		'99032' => new string[] {'Sprague','Lincoln','WA'},
		'99033' => new string[] {'Tekoa','Whitman','WA'},
		'99034' => new string[] {'Tumtum','Stevens','WA'},
		'99036' => new string[] {'Valleyford','Spokane','WA'},
		'99037' => new string[] {'Veradale','Spokane','WA'},
		'99039' => new string[] {'Waverly','Spokane','WA'},
		'99040' => new string[] {'Wellpinit','Stevens','WA'},
		'99101' => new string[] {'Addy','Stevens','WA'},
		'99102' => new string[] {'Albion','Whitman','WA'},
		'99103' => new string[] {'Almira','Lincoln','WA'},
		'99104' => new string[] {'Belmont','Whitman','WA'},
		'99105' => new string[] {'Benge','Adams','WA'},
		'99107' => new string[] {'Boyds','Ferry','WA'},
		'99109' => new string[] {'Chewelah','Stevens','WA'},
		'99110' => new string[] {'Clayton','Stevens','WA'},
		'99111' => new string[] {'Colfax','Whitman','WA'},
		'99113' => new string[] {'Colton','Whitman','WA'},
		'99114' => new string[] {'Colville','Stevens','WA'},
		'99115' => new string[] {'Coulee City','Grant','WA'},
		'99116' => new string[] {'Coulee Dam','Okanogan','WA'},
		'99117' => new string[] {'Creston','Lincoln','WA'},
		'99118' => new string[] {'Curlew','Ferry','WA'},
		'99119' => new string[] {'Cusick','Pend Oreille','WA'},
		'99121' => new string[] {'Danville','Ferry','WA'},
		'99122' => new string[] {'Davenport','Lincoln','WA'},
		'99123' => new string[] {'Electric City','Grant','WA'},
		'99124' => new string[] {'Elmer City','Okanogan','WA'},
		'99125' => new string[] {'Endicott','Whitman','WA'},
		'99126' => new string[] {'Evans','Stevens','WA'},
		'99128' => new string[] {'Farmington','Whitman','WA'},
		'99129' => new string[] {'Fruitland','Stevens','WA'},
		'99130' => new string[] {'Garfield','Whitman','WA'},
		'99131' => new string[] {'Gifford','Stevens','WA'},
		'99133' => new string[] {'Grand Coulee','Grant','WA'},
		'99134' => new string[] {'Harrington','Lincoln','WA'},
		'99135' => new string[] {'Hartline','Grant','WA'},
		'99136' => new string[] {'Hay','Whitman','WA'},
		'99137' => new string[] {'Hunters','Stevens','WA'},
		'99138' => new string[] {'Inchelium','Ferry','WA'},
		'99139' => new string[] {'Ione','Pend Oreille','WA'},
		'99140' => new string[] {'Keller','Ferry','WA'},
		'99141' => new string[] {'Kettle Falls','Stevens','WA'},
		'99143' => new string[] {'Lacrosse','Whitman','WA'},
		'99144' => new string[] {'Lamona','Lincoln','WA'},
		'99146' => new string[] {'Laurier','Ferry','WA'},
		'99147' => new string[] {'Lincoln','Lincoln','WA'},
		'99148' => new string[] {'Loon Lake','Stevens','WA'},
		'99149' => new string[] {'Malden','Whitman','WA'},
		'99150' => new string[] {'Malo','Ferry','WA'},
		'99151' => new string[] {'Marcus','Stevens','WA'},
		'99152' => new string[] {'Metaline','Pend Oreille','WA'},
		'99153' => new string[] {'Metaline Falls','Pend Oreille','WA'},
		'99154' => new string[] {'Mohler','Lincoln','WA'},
		'99155' => new string[] {'Nespelem','Okanogan','WA'},
		'99156' => new string[] {'Newport','Pend Oreille','WA'},
		'99157' => new string[] {'Northport','Stevens','WA'},
		'99158' => new string[] {'Oakesdale','Whitman','WA'},
		'99159' => new string[] {'Odessa','Lincoln','WA'},
		'99160' => new string[] {'Orient','Ferry','WA'},
		'99161' => new string[] {'Palouse','Whitman','WA'},
		'99163' => new string[] {'Pullman','Whitman','WA'},
		'99164' => new string[] {'Pullman','Whitman','WA'},
		'99165' => new string[] {'Pullman','Whitman','WA'},
		'99166' => new string[] {'Republic','Ferry','WA'},
		'99167' => new string[] {'Rice','Stevens','WA'},
		'99169' => new string[] {'Ritzville','Adams','WA'},
		'99170' => new string[] {'Rosalia','Whitman','WA'},
		'99171' => new string[] {'Saint John','Whitman','WA'},
		'99173' => new string[] {'Springdale','Stevens','WA'},
		'99174' => new string[] {'Steptoe','Whitman','WA'},
		'99176' => new string[] {'Thornton','Whitman','WA'},
		'99179' => new string[] {'Uniontown','Whitman','WA'},
		'99180' => new string[] {'Usk','Pend Oreille','WA'},
		'99181' => new string[] {'Valley','Stevens','WA'},
		'99185' => new string[] {'Wilbur','Lincoln','WA'},
		'99201' => new string[] {'Spokane','Spokane','WA'},
		'99202' => new string[] {'Spokane','Spokane','WA'},
		'99203' => new string[] {'Spokane','Spokane','WA'},
		'99204' => new string[] {'Spokane','Spokane','WA'},
		'99205' => new string[] {'Spokane','Spokane','WA'},
		'99206' => new string[] {'Spokane','Spokane','WA'},
		'99207' => new string[] {'Spokane','Spokane','WA'},
		'99208' => new string[] {'Spokane','Spokane','WA'},
		'99209' => new string[] {'Spokane','Spokane','WA'},
		'99210' => new string[] {'Spokane','Spokane','WA'},
		'99211' => new string[] {'Spokane','Spokane','WA'},
		'99212' => new string[] {'Spokane','Spokane','WA'},
		'99213' => new string[] {'Spokane','Spokane','WA'},
		'99214' => new string[] {'Spokane','Spokane','WA'},
		'99215' => new string[] {'Spokane','Spokane','WA'},
		'99216' => new string[] {'Spokane','Spokane','WA'},
		'99217' => new string[] {'Spokane','Spokane','WA'},
		'99218' => new string[] {'Spokane','Spokane','WA'},
		'99219' => new string[] {'Spokane','Spokane','WA'},
		'99220' => new string[] {'Spokane','Spokane','WA'},
		'99223' => new string[] {'Spokane','Spokane','WA'},
		'99224' => new string[] {'Spokane','Spokane','WA'},
		'99228' => new string[] {'Spokane','Spokane','WA'},
		'99251' => new string[] {'Spokane','Spokane','WA'},
		'99252' => new string[] {'Spokane','Spokane','WA'},
		'99256' => new string[] {'Spokane','Spokane','WA'},
		'99258' => new string[] {'Spokane','Spokane','WA'},
		'99260' => new string[] {'Spokane','Spokane','WA'},
		'99299' => new string[] {'Spokane','Spokane','WA'},
		'99301' => new string[] {'Pasco','Franklin','WA'},
		'99302' => new string[] {'Pasco','Franklin','WA'},
		'99320' => new string[] {'Benton City','Benton','WA'},
		'99321' => new string[] {'Beverly','Grant','WA'},
		'99322' => new string[] {'Bickleton','Klickitat','WA'},
		'99323' => new string[] {'Burbank','Walla Walla','WA'},
		'99324' => new string[] {'College Place','Walla Walla','WA'},
		'99326' => new string[] {'Connell','Franklin','WA'},
		'99328' => new string[] {'Dayton','Columbia','WA'},
		'99329' => new string[] {'Dixie','Walla Walla','WA'},
		'99330' => new string[] {'Eltopia','Franklin','WA'},
		'99333' => new string[] {'Hooper','Whitman','WA'},
		'99335' => new string[] {'Kahlotus','Franklin','WA'},
		'99336' => new string[] {'Kennewick','Benton','WA'},
		'99337' => new string[] {'Kennewick','Benton','WA'},
		'99338' => new string[] {'Kennewick','Benton','WA'},
		'99341' => new string[] {'Lind','Adams','WA'},
		'99343' => new string[] {'Mesa','Franklin','WA'},
		'99344' => new string[] {'Othello','Adams','WA'},
		'99345' => new string[] {'Paterson','Benton','WA'},
		'99346' => new string[] {'Plymouth','Benton','WA'},
		'99347' => new string[] {'Pomeroy','Garfield','WA'},
		'99348' => new string[] {'Prescott','Walla Walla','WA'},
		'99349' => new string[] {'Mattawa','Grant','WA'},
		'99350' => new string[] {'Prosser','Benton','WA'},
		'99352' => new string[] {'Richland','Benton','WA'},
		'99353' => new string[] {'West Richland','Benton','WA'},
		'99354' => new string[] {'Richland','Benton','WA'},
		'99356' => new string[] {'Roosevelt','Klickitat','WA'},
		'99357' => new string[] {'Royal City','Grant','WA'},
		'99359' => new string[] {'Starbuck','Columbia','WA'},
		'99360' => new string[] {'Touchet','Walla Walla','WA'},
		'99361' => new string[] {'Waitsburg','Walla Walla','WA'},
		'99362' => new string[] {'Walla Walla','Walla Walla','WA'},
		'99363' => new string[] {'Wallula','Walla Walla','WA'},
		'99371' => new string[] {'Washtucna','Adams','WA'},
		'99401' => new string[] {'Anatone','Asotin','WA'},
		'99402' => new string[] {'Asotin','Asotin','WA'},
		'99403' => new string[] {'Clarkston','Asotin','WA'}
	};

	// called from the COntact before trigger
	public static void ContactZipLookup() {
		
		for (SObject obj : trigger.new) {
			Contact c = (Contact)obj;
			// if there was a change to work zip, look it up
			Contact old = trigger.isUpdate ? (Contact)trigger.oldMap.get(c.id) : new Contact();
			if (c.mailingPostalCode != null && c.mailingPostalCode != old.mailingPostalCode) {
				GW_ZipLookup zl = new GW_ZipLookup(c.mailingPostalCode);				
				if (zl.found) {
					// set city/state/county UNLESS a new value was manually entered
					if (c.GWBase__work_county__c == null || c.GWBase__work_county__c == old.GWBase__work_county__c) 
						c.GWBase__work_county__c = zl.county;
					if (c.mailingCity == null || c.mailingCity == old.mailingCity) 
						c.mailingCity = zl.city;
					if (c.mailingState == null || c.mailingState == old.mailingState) 
						c.mailingState = zl.state;
				}
			}
	
			// if there was a change to home zip, look it up
			if (c.otherPostalCode != null && c.OtherPostalCode != old.OtherPostalCode) {			 
				GW_ZipLookup zl = new GW_ZipLookup(c.otherPostalCode);
				if (zl.found) {			
					// set city/state/county UNLESS a new value was manually entered
					if (c.GWBase__home_county__c == null || c.GWBase__home_county__c == old.GWBase__home_county__c) 
						c.GWBase__home_county__c = zl.county;
					if (c.otherCity == null || c.otherCity == old.otherCity) 
						c.otherCity = zl.city;
					if (c.otherState == null || c.otherState == old.otherState) 
						c.otherState = zl.state;
				}
			}
		}
	}			

	// called from the Account before trigger
	public static void AccountZipLookup(list<Account> listAccts) {
		for (account a : listAccts) {
			if (a.billingPostalCode != null && (/* a.county__c == null || */ a.billingCity == null || a.billingState == null)) {
				GW_ZipLookup zl = new GW_ZipLookup(a.billingPostalCode);
				if (zl.found) {
					//if (a.county__c == null) a.county__c = zl.county;
					if (a.billingCity == null) a.billingCity = zl.city;
					if (a.billingState == null) a.billingState = zl.state;
				}
			}
			if (a.shippingPostalCode != null && (a.shippingCity == null || a.shippingState == null)) {
				GW_ZipLookup zl = new GW_ZipLookup(a.shippingPostalCode);
				if (zl.found) {
					if (a.shippingCity == null) a.shippingCity = zl.city;
					if (a.shippingState == null) a.shippingState = zl.state;
				}
			}
		}
	}
	
	
//////////////////////////////////////////////////////////////////////////////////////////////////
// TEST CODE
//////////////////////////////////////////////////////////////////////////////////////////////////
			
	static TestMethod void TestLookup() {
		account a = new account(name='test', billingPostalCode='98236', shippingPostalCode='98260');
		insert a;
		
		contact c = new contact(lastname='test', mailingCity='Timbuktu', mailingPostalCode='98144',otherPostalCode='98114');
		insert c;
		//contact returnedC  = [select mailingCity,otherCity,mailingPostalCode,otherPostalCode,work_county__c,home_county__c from contact where id=:c.id];
		//system.debug(returnedC);
		system.assertEquals('Clinton', [select billingCity from account where id=:a.id].billingCity);	
		//system.assertEquals('Island', [select county__c from account where id=:a.id].county__c);	
		system.assertEquals('Langley', [select shippingCity from account where id=:a.id].shippingCity);	
		system.assertEquals('WA', [select shippingState from account where id=:a.id].shippingState);	
		system.assertEquals('Timbuktu', [select mailingCity from contact where id=:c.id].mailingCity);	
		system.assertEquals('King', [select GWBase__work_county__c from contact where id=:c.id].GWBase__work_county__c);
		system.assertEquals('Seattle', [select otherCity from contact where id=:c.id].otherCity);	
		system.assertEquals('King', [select GWBase__home_county__c from contact where id=:c.id].GWBase__home_county__c);
		system.assertEquals('WA', [select otherState from contact where id=:c.id].otherState);	
		system.assertEquals('WA', [select mailingState from contact where id=:c.id].mailingState);
		
		// test that a bogus zip doesn't clear the city
		contact c1 = new contact(id = c.id, otherPostalCode='00000');
		update c1;
		system.assertEquals('00000', [select otherPostalCode from contact where id=:c1.id].otherPostalCode);				
		system.assertEquals('Seattle', [select otherCity from contact where id=:c1.id].otherCity);				
	} 
}